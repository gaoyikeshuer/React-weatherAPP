{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport { useEffect, useRef, useCallback } from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var CHECK_TIMEOUT = 300; // eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport var wrapMenuList = function wrapMenuList(MenuList) {\n  function WrappedMenuList(props) {\n    var _props$selectProps = props.selectProps,\n        handleScrolledToBottom = _props$selectProps.handleScrolledToBottom,\n        shouldLoadMore = _props$selectProps.shouldLoadMore,\n        innerRef = props.innerRef,\n        useEffectProp = props.useEffect,\n        useRefProp = props.useRef,\n        useCallbackProp = props.useCallback,\n        setTimeoutProp = props.setTimeout,\n        clearTimeoutProp = props.clearTimeout;\n    var checkTimeoutRef = useRefProp(null);\n    var menuListRef = useRefProp(null);\n    var shouldHandle = useCallbackProp(function () {\n      var el = menuListRef.current; // menu not rendered\n\n      if (!el) {\n        return false;\n      }\n\n      var scrollTop = el.scrollTop,\n          scrollHeight = el.scrollHeight,\n          clientHeight = el.clientHeight;\n      return shouldLoadMore(scrollHeight, clientHeight, scrollTop);\n    }, [shouldLoadMore]);\n    var checkAndHandle = useCallbackProp(function () {\n      if (shouldHandle()) {\n        if (handleScrolledToBottom) {\n          handleScrolledToBottom();\n        }\n      }\n    }, [shouldHandle, handleScrolledToBottom]);\n    var setCheckAndHandleTimeout = useCallbackProp(function () {\n      checkAndHandle();\n      checkTimeoutRef.current = setTimeoutProp(setCheckAndHandleTimeout, CHECK_TIMEOUT);\n    }, [checkAndHandle]);\n    useEffectProp(function () {\n      setCheckAndHandleTimeout();\n      return function () {\n        if (checkTimeoutRef.current) {\n          clearTimeoutProp(checkTimeoutRef.current);\n        }\n      };\n    }, []);\n    return /*#__PURE__*/_jsx(MenuList, _objectSpread(_objectSpread({}, props), {}, {\n      innerRef: composeRefs(innerRef, menuListRef)\n    }));\n  }\n\n  WrappedMenuList.defaultProps = {\n    useEffect: useEffect,\n    useRef: useRef,\n    useCallback: useCallback,\n    setTimeout: setTimeout,\n    clearTimeout: clearTimeout\n  };\n  return WrappedMenuList;\n};","map":{"version":3,"names":["_objectSpread","useEffect","useRef","useCallback","composeRefs","jsx","_jsx","CHECK_TIMEOUT","wrapMenuList","MenuList","WrappedMenuList","props","_props$selectProps","selectProps","handleScrolledToBottom","shouldLoadMore","innerRef","useEffectProp","useRefProp","useCallbackProp","setTimeoutProp","setTimeout","clearTimeoutProp","clearTimeout","checkTimeoutRef","menuListRef","shouldHandle","el","current","scrollTop","scrollHeight","clientHeight","checkAndHandle","setCheckAndHandleTimeout","defaultProps"],"sources":["/Users/mac/node_modules/react-select-async-paginate/es/wrapMenuList.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport { useEffect, useRef, useCallback } from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var CHECK_TIMEOUT = 300;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport var wrapMenuList = function wrapMenuList(MenuList) {\n  function WrappedMenuList(props) {\n    var _props$selectProps = props.selectProps,\n        handleScrolledToBottom = _props$selectProps.handleScrolledToBottom,\n        shouldLoadMore = _props$selectProps.shouldLoadMore,\n        innerRef = props.innerRef,\n        useEffectProp = props.useEffect,\n        useRefProp = props.useRef,\n        useCallbackProp = props.useCallback,\n        setTimeoutProp = props.setTimeout,\n        clearTimeoutProp = props.clearTimeout;\n    var checkTimeoutRef = useRefProp(null);\n    var menuListRef = useRefProp(null);\n    var shouldHandle = useCallbackProp(function () {\n      var el = menuListRef.current; // menu not rendered\n\n      if (!el) {\n        return false;\n      }\n\n      var scrollTop = el.scrollTop,\n          scrollHeight = el.scrollHeight,\n          clientHeight = el.clientHeight;\n      return shouldLoadMore(scrollHeight, clientHeight, scrollTop);\n    }, [shouldLoadMore]);\n    var checkAndHandle = useCallbackProp(function () {\n      if (shouldHandle()) {\n        if (handleScrolledToBottom) {\n          handleScrolledToBottom();\n        }\n      }\n    }, [shouldHandle, handleScrolledToBottom]);\n    var setCheckAndHandleTimeout = useCallbackProp(function () {\n      checkAndHandle();\n      checkTimeoutRef.current = setTimeoutProp(setCheckAndHandleTimeout, CHECK_TIMEOUT);\n    }, [checkAndHandle]);\n    useEffectProp(function () {\n      setCheckAndHandleTimeout();\n      return function () {\n        if (checkTimeoutRef.current) {\n          clearTimeoutProp(checkTimeoutRef.current);\n        }\n      };\n    }, []);\n    return /*#__PURE__*/_jsx(MenuList, _objectSpread(_objectSpread({}, props), {}, {\n      innerRef: composeRefs(innerRef, menuListRef)\n    }));\n  }\n\n  WrappedMenuList.defaultProps = {\n    useEffect: useEffect,\n    useRef: useRef,\n    useCallback: useCallback,\n    setTimeout: setTimeout,\n    clearTimeout: clearTimeout\n  };\n  return WrappedMenuList;\n};"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,sCAA1B;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,WAA5B,QAA+C,OAA/C;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,SAASC,GAAG,IAAIC,IAAhB,QAA4B,mBAA5B;AACA,OAAO,IAAIC,aAAa,GAAG,GAApB,C,CACP;;AACA,OAAO,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;EACxD,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;IAC9B,IAAIC,kBAAkB,GAAGD,KAAK,CAACE,WAA/B;IAAA,IACIC,sBAAsB,GAAGF,kBAAkB,CAACE,sBADhD;IAAA,IAEIC,cAAc,GAAGH,kBAAkB,CAACG,cAFxC;IAAA,IAGIC,QAAQ,GAAGL,KAAK,CAACK,QAHrB;IAAA,IAIIC,aAAa,GAAGN,KAAK,CAACV,SAJ1B;IAAA,IAKIiB,UAAU,GAAGP,KAAK,CAACT,MALvB;IAAA,IAMIiB,eAAe,GAAGR,KAAK,CAACR,WAN5B;IAAA,IAOIiB,cAAc,GAAGT,KAAK,CAACU,UAP3B;IAAA,IAQIC,gBAAgB,GAAGX,KAAK,CAACY,YAR7B;IASA,IAAIC,eAAe,GAAGN,UAAU,CAAC,IAAD,CAAhC;IACA,IAAIO,WAAW,GAAGP,UAAU,CAAC,IAAD,CAA5B;IACA,IAAIQ,YAAY,GAAGP,eAAe,CAAC,YAAY;MAC7C,IAAIQ,EAAE,GAAGF,WAAW,CAACG,OAArB,CAD6C,CACf;;MAE9B,IAAI,CAACD,EAAL,EAAS;QACP,OAAO,KAAP;MACD;;MAED,IAAIE,SAAS,GAAGF,EAAE,CAACE,SAAnB;MAAA,IACIC,YAAY,GAAGH,EAAE,CAACG,YADtB;MAAA,IAEIC,YAAY,GAAGJ,EAAE,CAACI,YAFtB;MAGA,OAAOhB,cAAc,CAACe,YAAD,EAAeC,YAAf,EAA6BF,SAA7B,CAArB;IACD,CAXiC,EAW/B,CAACd,cAAD,CAX+B,CAAlC;IAYA,IAAIiB,cAAc,GAAGb,eAAe,CAAC,YAAY;MAC/C,IAAIO,YAAY,EAAhB,EAAoB;QAClB,IAAIZ,sBAAJ,EAA4B;UAC1BA,sBAAsB;QACvB;MACF;IACF,CANmC,EAMjC,CAACY,YAAD,EAAeZ,sBAAf,CANiC,CAApC;IAOA,IAAImB,wBAAwB,GAAGd,eAAe,CAAC,YAAY;MACzDa,cAAc;MACdR,eAAe,CAACI,OAAhB,GAA0BR,cAAc,CAACa,wBAAD,EAA2B1B,aAA3B,CAAxC;IACD,CAH6C,EAG3C,CAACyB,cAAD,CAH2C,CAA9C;IAIAf,aAAa,CAAC,YAAY;MACxBgB,wBAAwB;MACxB,OAAO,YAAY;QACjB,IAAIT,eAAe,CAACI,OAApB,EAA6B;UAC3BN,gBAAgB,CAACE,eAAe,CAACI,OAAjB,CAAhB;QACD;MACF,CAJD;IAKD,CAPY,EAOV,EAPU,CAAb;IAQA,OAAO,aAAatB,IAAI,CAACG,QAAD,EAAWT,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKW,KAAL,CAAd,EAA2B,EAA3B,EAA+B;MAC7EK,QAAQ,EAAEZ,WAAW,CAACY,QAAD,EAAWS,WAAX;IADwD,CAA/B,CAAxB,CAAxB;EAGD;;EAEDf,eAAe,CAACwB,YAAhB,GAA+B;IAC7BjC,SAAS,EAAEA,SADkB;IAE7BC,MAAM,EAAEA,MAFqB;IAG7BC,WAAW,EAAEA,WAHgB;IAI7BkB,UAAU,EAAEA,UAJiB;IAK7BE,YAAY,EAAEA;EALe,CAA/B;EAOA,OAAOb,eAAP;AACD,CAzDM"},"metadata":{},"sourceType":"module"}