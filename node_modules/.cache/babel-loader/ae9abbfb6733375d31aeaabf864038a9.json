{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toPropertyKey from \"@babel/runtime/helpers/toPropertyKey\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport sleep from 'sleep-promise';\nimport useIsMountedRef from 'use-is-mounted-ref';\nimport { defaultShouldLoadMore } from './defaultShouldLoadMore';\nimport { defaultReduceOptions } from './defaultReduceOptions';\nvar errorText = '[react-select-async-paginate] response of \"loadOptions\" should be an object with \"options\" prop, which contains array of options.';\nexport var validateResponse = function validateResponse(console, response) {\n  if (!response) {\n    console.error(errorText, 'Received:', response);\n    throw new Error(errorText);\n  }\n\n  if (!Array.isArray(response.options)) {\n    console.error(errorText, 'Received:', response);\n    throw new Error(errorText);\n  }\n};\nexport var getInitialOptionsCache = function getInitialOptionsCache(_ref) {\n  var options = _ref.options,\n      defaultOptions = _ref.defaultOptions,\n      additional = _ref.additional,\n      defaultAdditional = _ref.defaultAdditional;\n  var initialOptions = defaultOptions === true ? null : defaultOptions instanceof Array ? defaultOptions : options;\n\n  if (initialOptions) {\n    return {\n      '': {\n        isFirstLoad: false,\n        isLoading: false,\n        options: initialOptions,\n        hasMore: true,\n        additional: defaultAdditional || additional\n      }\n    };\n  }\n\n  return {};\n};\nexport var getInitialCache = function getInitialCache(params) {\n  return {\n    isFirstLoad: true,\n    options: [],\n    hasMore: true,\n    isLoading: false,\n    additional: params.additional\n  };\n};\nexport var requestOptions = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(caller, paramsRef, optionsCacheRef, debounceTimeout, sleepParam, setOptionsCache, validateResponseParam, reduceOptions) {\n    var currentInputValue, isCacheEmpty, currentOptions, newInputValue, response, hasError, loadOptions, _response, options, hasMore, newAdditional;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            currentInputValue = paramsRef.current.inputValue;\n            isCacheEmpty = !optionsCacheRef.current[currentInputValue];\n            currentOptions = isCacheEmpty ? getInitialCache(paramsRef.current) : optionsCacheRef.current[currentInputValue];\n\n            if (!(currentOptions.isLoading || !currentOptions.hasMore)) {\n              _context.next = 5;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 5:\n            setOptionsCache(function (prevOptionsCache) {\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                isLoading: true\n              })));\n            });\n\n            if (!(debounceTimeout > 0 && caller === 'input-change')) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.next = 9;\n            return sleepParam(debounceTimeout);\n\n          case 9:\n            newInputValue = paramsRef.current.inputValue;\n\n            if (!(currentInputValue !== newInputValue)) {\n              _context.next = 13;\n              break;\n            }\n\n            setOptionsCache(function (prevOptionsCache) {\n              if (isCacheEmpty) {\n                var itemForDelete = prevOptionsCache[currentInputValue],\n                    restCache = _objectWithoutProperties(prevOptionsCache, [currentInputValue].map(_toPropertyKey));\n\n                return restCache;\n              }\n\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                isLoading: false\n              })));\n            });\n            return _context.abrupt(\"return\");\n\n          case 13:\n            _context.prev = 13;\n            loadOptions = paramsRef.current.loadOptions;\n            _context.next = 17;\n            return loadOptions(currentInputValue, currentOptions.options, currentOptions.additional);\n\n          case 17:\n            response = _context.sent;\n            hasError = false;\n            _context.next = 24;\n            break;\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](13);\n            hasError = true;\n\n          case 24:\n            if (!hasError) {\n              _context.next = 27;\n              break;\n            }\n\n            setOptionsCache(function (prevOptionsCache) {\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                isLoading: false\n              })));\n            });\n            return _context.abrupt(\"return\");\n\n          case 27:\n            validateResponseParam(console, response);\n            _response = response, options = _response.options, hasMore = _response.hasMore; // eslint-disable-next-line no-prototype-builtins\n\n            newAdditional = response.hasOwnProperty('additional') ? response.additional : currentOptions.additional;\n            setOptionsCache(function (prevOptionsCache) {\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                options: reduceOptions(currentOptions.options, options, newAdditional),\n                hasMore: !!hasMore,\n                isLoading: false,\n                isFirstLoad: false,\n                additional: newAdditional\n              })));\n            });\n\n          case 31:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[13, 21]]);\n  }));\n\n  return function requestOptions(_x, _x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var increaseStateId = function increaseStateId(prevStateId) {\n  return prevStateId + 1;\n};\nexport var useAsyncPaginateBasePure = function useAsyncPaginateBasePure(useRefParam, useStateParam, useEffectParam, useCallbackParam, validateResponseParam, getInitialOptionsCacheParam, requestOptionsParam, params) {\n  var deps = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : [];\n  var defaultOptions = params.defaultOptions,\n      _params$loadOptionsOn = params.loadOptionsOnMenuOpen,\n      loadOptionsOnMenuOpen = _params$loadOptionsOn === void 0 ? true : _params$loadOptionsOn,\n      _params$debounceTimeo = params.debounceTimeout,\n      debounceTimeout = _params$debounceTimeo === void 0 ? 0 : _params$debounceTimeo,\n      inputValue = params.inputValue,\n      menuIsOpen = params.menuIsOpen,\n      _params$filterOption = params.filterOption,\n      filterOption = _params$filterOption === void 0 ? null : _params$filterOption,\n      _params$reduceOptions = params.reduceOptions,\n      reduceOptions = _params$reduceOptions === void 0 ? defaultReduceOptions : _params$reduceOptions,\n      _params$shouldLoadMor = params.shouldLoadMore,\n      shouldLoadMore = _params$shouldLoadMor === void 0 ? defaultShouldLoadMore : _params$shouldLoadMor;\n  var isMountedRef = useIsMountedRef();\n  var isInitRef = useRefParam(true);\n  var paramsRef = useRefParam(params);\n  paramsRef.current = params;\n  var setStateId = useStateParam(0)[1];\n  var optionsCacheRef = useRefParam(null);\n\n  if (optionsCacheRef.current === null) {\n    optionsCacheRef.current = getInitialOptionsCacheParam(params);\n  }\n\n  var callRequestOptions = useCallbackParam(function (caller) {\n    requestOptionsParam(caller, paramsRef, optionsCacheRef, debounceTimeout, sleep, function (reduceState) {\n      optionsCacheRef.current = reduceState(optionsCacheRef.current);\n\n      if (isMountedRef.current) {\n        setStateId(increaseStateId);\n      }\n    }, validateResponseParam, reduceOptions);\n  }, [debounceTimeout]);\n  var handleScrolledToBottom = useCallbackParam(function () {\n    var currentInputValue = paramsRef.current.inputValue;\n    var currentOptions = optionsCacheRef.current[currentInputValue];\n\n    if (currentOptions) {\n      callRequestOptions('menu-scroll');\n    }\n  }, [callRequestOptions]);\n  useEffectParam(function () {\n    if (isInitRef.current) {\n      isInitRef.current = false;\n    } else {\n      optionsCacheRef.current = {};\n      setStateId(increaseStateId);\n    }\n\n    if (defaultOptions === true) {\n      callRequestOptions('autoload');\n    }\n  }, deps);\n  useEffectParam(function () {\n    if (menuIsOpen && !optionsCacheRef.current[inputValue]) {\n      callRequestOptions('input-change');\n    }\n  }, [inputValue]);\n  useEffectParam(function () {\n    if (menuIsOpen && !optionsCacheRef.current[''] && loadOptionsOnMenuOpen) {\n      callRequestOptions('menu-toggle');\n    }\n  }, [menuIsOpen]);\n  var currentOptions = optionsCacheRef.current[inputValue] || getInitialCache(params);\n  return {\n    handleScrolledToBottom: handleScrolledToBottom,\n    shouldLoadMore: shouldLoadMore,\n    filterOption: filterOption,\n    isLoading: currentOptions.isLoading,\n    isFirstLoad: currentOptions.isFirstLoad,\n    options: currentOptions.options\n  };\n};\nexport var useAsyncPaginateBase = function useAsyncPaginateBase(params) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return useAsyncPaginateBasePure(useRef, useState, useEffect, useCallback, validateResponse, getInitialOptionsCache, requestOptions, params, deps);\n};","map":{"version":3,"names":["_objectWithoutProperties","_toPropertyKey","_defineProperty","_objectSpread","_asyncToGenerator","_regeneratorRuntime","useState","useEffect","useRef","useCallback","sleep","useIsMountedRef","defaultShouldLoadMore","defaultReduceOptions","errorText","validateResponse","console","response","error","Error","Array","isArray","options","getInitialOptionsCache","_ref","defaultOptions","additional","defaultAdditional","initialOptions","isFirstLoad","isLoading","hasMore","getInitialCache","params","requestOptions","_ref2","mark","_callee","caller","paramsRef","optionsCacheRef","debounceTimeout","sleepParam","setOptionsCache","validateResponseParam","reduceOptions","currentInputValue","isCacheEmpty","currentOptions","newInputValue","hasError","loadOptions","_response","newAdditional","wrap","_callee$","_context","prev","next","current","inputValue","abrupt","prevOptionsCache","itemForDelete","restCache","map","sent","t0","hasOwnProperty","stop","_x","_x2","_x3","_x4","_x5","_x6","_x7","_x8","apply","arguments","increaseStateId","prevStateId","useAsyncPaginateBasePure","useRefParam","useStateParam","useEffectParam","useCallbackParam","getInitialOptionsCacheParam","requestOptionsParam","deps","length","undefined","_params$loadOptionsOn","loadOptionsOnMenuOpen","_params$debounceTimeo","menuIsOpen","_params$filterOption","filterOption","_params$reduceOptions","_params$shouldLoadMor","shouldLoadMore","isMountedRef","isInitRef","setStateId","callRequestOptions","reduceState","handleScrolledToBottom","useAsyncPaginateBase"],"sources":["/Users/mac/node_modules/react-select-async-paginate/es/useAsyncPaginateBase.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _toPropertyKey from \"@babel/runtime/helpers/toPropertyKey\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport sleep from 'sleep-promise';\nimport useIsMountedRef from 'use-is-mounted-ref';\nimport { defaultShouldLoadMore } from './defaultShouldLoadMore';\nimport { defaultReduceOptions } from './defaultReduceOptions';\nvar errorText = '[react-select-async-paginate] response of \"loadOptions\" should be an object with \"options\" prop, which contains array of options.';\nexport var validateResponse = function validateResponse(console, response) {\n  if (!response) {\n    console.error(errorText, 'Received:', response);\n    throw new Error(errorText);\n  }\n\n  if (!Array.isArray(response.options)) {\n    console.error(errorText, 'Received:', response);\n    throw new Error(errorText);\n  }\n};\nexport var getInitialOptionsCache = function getInitialOptionsCache(_ref) {\n  var options = _ref.options,\n      defaultOptions = _ref.defaultOptions,\n      additional = _ref.additional,\n      defaultAdditional = _ref.defaultAdditional;\n  var initialOptions = defaultOptions === true ? null : defaultOptions instanceof Array ? defaultOptions : options;\n\n  if (initialOptions) {\n    return {\n      '': {\n        isFirstLoad: false,\n        isLoading: false,\n        options: initialOptions,\n        hasMore: true,\n        additional: defaultAdditional || additional\n      }\n    };\n  }\n\n  return {};\n};\nexport var getInitialCache = function getInitialCache(params) {\n  return {\n    isFirstLoad: true,\n    options: [],\n    hasMore: true,\n    isLoading: false,\n    additional: params.additional\n  };\n};\nexport var requestOptions = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(caller, paramsRef, optionsCacheRef, debounceTimeout, sleepParam, setOptionsCache, validateResponseParam, reduceOptions) {\n    var currentInputValue, isCacheEmpty, currentOptions, newInputValue, response, hasError, loadOptions, _response, options, hasMore, newAdditional;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            currentInputValue = paramsRef.current.inputValue;\n            isCacheEmpty = !optionsCacheRef.current[currentInputValue];\n            currentOptions = isCacheEmpty ? getInitialCache(paramsRef.current) : optionsCacheRef.current[currentInputValue];\n\n            if (!(currentOptions.isLoading || !currentOptions.hasMore)) {\n              _context.next = 5;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 5:\n            setOptionsCache(function (prevOptionsCache) {\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                isLoading: true\n              })));\n            });\n\n            if (!(debounceTimeout > 0 && caller === 'input-change')) {\n              _context.next = 13;\n              break;\n            }\n\n            _context.next = 9;\n            return sleepParam(debounceTimeout);\n\n          case 9:\n            newInputValue = paramsRef.current.inputValue;\n\n            if (!(currentInputValue !== newInputValue)) {\n              _context.next = 13;\n              break;\n            }\n\n            setOptionsCache(function (prevOptionsCache) {\n              if (isCacheEmpty) {\n                var itemForDelete = prevOptionsCache[currentInputValue],\n                    restCache = _objectWithoutProperties(prevOptionsCache, [currentInputValue].map(_toPropertyKey));\n\n                return restCache;\n              }\n\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                isLoading: false\n              })));\n            });\n            return _context.abrupt(\"return\");\n\n          case 13:\n            _context.prev = 13;\n            loadOptions = paramsRef.current.loadOptions;\n            _context.next = 17;\n            return loadOptions(currentInputValue, currentOptions.options, currentOptions.additional);\n\n          case 17:\n            response = _context.sent;\n            hasError = false;\n            _context.next = 24;\n            break;\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](13);\n            hasError = true;\n\n          case 24:\n            if (!hasError) {\n              _context.next = 27;\n              break;\n            }\n\n            setOptionsCache(function (prevOptionsCache) {\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                isLoading: false\n              })));\n            });\n            return _context.abrupt(\"return\");\n\n          case 27:\n            validateResponseParam(console, response);\n            _response = response, options = _response.options, hasMore = _response.hasMore; // eslint-disable-next-line no-prototype-builtins\n\n            newAdditional = response.hasOwnProperty('additional') ? response.additional : currentOptions.additional;\n            setOptionsCache(function (prevOptionsCache) {\n              return _objectSpread(_objectSpread({}, prevOptionsCache), {}, _defineProperty({}, currentInputValue, _objectSpread(_objectSpread({}, currentOptions), {}, {\n                options: reduceOptions(currentOptions.options, options, newAdditional),\n                hasMore: !!hasMore,\n                isLoading: false,\n                isFirstLoad: false,\n                additional: newAdditional\n              })));\n            });\n\n          case 31:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[13, 21]]);\n  }));\n\n  return function requestOptions(_x, _x2, _x3, _x4, _x5, _x6, _x7, _x8) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var increaseStateId = function increaseStateId(prevStateId) {\n  return prevStateId + 1;\n};\nexport var useAsyncPaginateBasePure = function useAsyncPaginateBasePure(useRefParam, useStateParam, useEffectParam, useCallbackParam, validateResponseParam, getInitialOptionsCacheParam, requestOptionsParam, params) {\n  var deps = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : [];\n  var defaultOptions = params.defaultOptions,\n      _params$loadOptionsOn = params.loadOptionsOnMenuOpen,\n      loadOptionsOnMenuOpen = _params$loadOptionsOn === void 0 ? true : _params$loadOptionsOn,\n      _params$debounceTimeo = params.debounceTimeout,\n      debounceTimeout = _params$debounceTimeo === void 0 ? 0 : _params$debounceTimeo,\n      inputValue = params.inputValue,\n      menuIsOpen = params.menuIsOpen,\n      _params$filterOption = params.filterOption,\n      filterOption = _params$filterOption === void 0 ? null : _params$filterOption,\n      _params$reduceOptions = params.reduceOptions,\n      reduceOptions = _params$reduceOptions === void 0 ? defaultReduceOptions : _params$reduceOptions,\n      _params$shouldLoadMor = params.shouldLoadMore,\n      shouldLoadMore = _params$shouldLoadMor === void 0 ? defaultShouldLoadMore : _params$shouldLoadMor;\n  var isMountedRef = useIsMountedRef();\n  var isInitRef = useRefParam(true);\n  var paramsRef = useRefParam(params);\n  paramsRef.current = params;\n  var setStateId = useStateParam(0)[1];\n  var optionsCacheRef = useRefParam(null);\n\n  if (optionsCacheRef.current === null) {\n    optionsCacheRef.current = getInitialOptionsCacheParam(params);\n  }\n\n  var callRequestOptions = useCallbackParam(function (caller) {\n    requestOptionsParam(caller, paramsRef, optionsCacheRef, debounceTimeout, sleep, function (reduceState) {\n      optionsCacheRef.current = reduceState(optionsCacheRef.current);\n\n      if (isMountedRef.current) {\n        setStateId(increaseStateId);\n      }\n    }, validateResponseParam, reduceOptions);\n  }, [debounceTimeout]);\n  var handleScrolledToBottom = useCallbackParam(function () {\n    var currentInputValue = paramsRef.current.inputValue;\n    var currentOptions = optionsCacheRef.current[currentInputValue];\n\n    if (currentOptions) {\n      callRequestOptions('menu-scroll');\n    }\n  }, [callRequestOptions]);\n  useEffectParam(function () {\n    if (isInitRef.current) {\n      isInitRef.current = false;\n    } else {\n      optionsCacheRef.current = {};\n      setStateId(increaseStateId);\n    }\n\n    if (defaultOptions === true) {\n      callRequestOptions('autoload');\n    }\n  }, deps);\n  useEffectParam(function () {\n    if (menuIsOpen && !optionsCacheRef.current[inputValue]) {\n      callRequestOptions('input-change');\n    }\n  }, [inputValue]);\n  useEffectParam(function () {\n    if (menuIsOpen && !optionsCacheRef.current[''] && loadOptionsOnMenuOpen) {\n      callRequestOptions('menu-toggle');\n    }\n  }, [menuIsOpen]);\n  var currentOptions = optionsCacheRef.current[inputValue] || getInitialCache(params);\n  return {\n    handleScrolledToBottom: handleScrolledToBottom,\n    shouldLoadMore: shouldLoadMore,\n    filterOption: filterOption,\n    isLoading: currentOptions.isLoading,\n    isFirstLoad: currentOptions.isFirstLoad,\n    options: currentOptions.options\n  };\n};\nexport var useAsyncPaginateBase = function useAsyncPaginateBase(params) {\n  var deps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return useAsyncPaginateBasePure(useRef, useState, useEffect, useCallback, validateResponse, getInitialOptionsCache, requestOptions, params, deps);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}