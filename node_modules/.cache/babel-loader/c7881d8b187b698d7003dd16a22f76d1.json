{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/GitHub/React-Weather-APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{AsyncPaginate}from\"react-select-async-paginate\";import{GEO_API_URL,geoApiOptions}from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";var Search=function Search(_ref){var onSearchChange=_ref.onSearchChange;//onSearchChange = event function pass from the parent component\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var loadOptions=function loadOptions(inputValue){return fetch(\"\".concat(GEO_API_URL,\"/cities?minPopulation=1000000&namePrefix=\").concat(inputValue),geoApiOptions).then(function(response){return response.json();}).then(function(response){return{options:response.data.map(function(city){//array of objects\nreturn{value:\"\".concat(city.latitude,\" \").concat(city.longitude),label:\"\".concat(city.name,\",\").concat(city.countryCode)};})};}).catch(function(err){return console.error(err);});};var handleOnChange=function handleOnChange(searchData){setSearch(searchData);//just change the state of search, didn't pass the data to webpage\nonSearchChange(searchData);//don't understand: pass the data we got from input\n};return/*#__PURE__*/_jsx(AsyncPaginate,{placeholder:\"Search for city\",debounceTimeout:600,value:search,onChange:handleOnChange//update search value and emit to parent app.js\n,loadOptions:loadOptions});};export default Search;","map":{"version":3,"names":["useState","AsyncPaginate","GEO_API_URL","geoApiOptions","Search","onSearchChange","search","setSearch","loadOptions","inputValue","fetch","then","response","json","options","data","map","city","value","latitude","longitude","label","name","countryCode","catch","err","console","error","handleOnChange","searchData"],"sources":["/Users/mac/Documents/GitHub/React-Weather-APP/src/components/search/search.js"],"sourcesContent":["import { useState } from \"react\";\nimport { AsyncPaginate } from \"react-select-async-paginate\";\nimport { GEO_API_URL, geoApiOptions } from \"../../api\";\nconst Search = ({onSearchChange}) => {//onSearchChange = event function pass from the parent component\n    const [search, setSearch] = useState(null);\n    const loadOptions = (inputValue) =>{\n      return  fetch(`${GEO_API_URL}/cities?minPopulation=1000000&namePrefix=${inputValue}`, geoApiOptions)\n\t.then(response => response.json())\n\t.then((response) => {\n        return{\n           options: response.data.map((city)=>{ //array of objects\n            return{\n                value: `${city.latitude} ${city.longitude}`,\n                label: `${city.name},${city.countryCode}`\n            }\n           }) \n        }\n    })\n\t.catch(err => console.error(err));\n    }\n    const handleOnChange = (searchData) => {\n        setSearch(searchData) //just change the state of search, didn't pass the data to webpage\n        onSearchChange(searchData)//don't understand: pass the data we got from input\n    }\n\n    return (\n\n        <AsyncPaginate \n        placeholder = \"Search for city\"\n        debounceTimeout={600}\n        value = {search}\n        onChange = {handleOnChange}//update search value and emit to parent app.js\n        loadOptions={loadOptions}\n        />\n    )\n}\n\nexport default Search;"],"mappings":"mIAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,aAAT,KAA8B,6BAA9B,CACA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,WAA3C,C,2CACA,GAAMC,OAAM,CAAG,QAATA,OAAS,MAAsB,IAApBC,eAAoB,MAApBA,cAAoB,CAAC;AAClC,cAA4BL,QAAQ,CAAC,IAAD,CAApC,wCAAOM,MAAP,eAAeC,SAAf,eACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,UAAD,CAAe,CACjC,MAAQC,MAAK,WAAIR,WAAJ,qDAA2DO,UAA3D,EAAyEN,aAAzE,CAAL,CACZQ,IADY,CACP,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EADD,EAEZF,IAFY,CAEP,SAACC,QAAD,CAAc,CACb,MAAM,CACHE,OAAO,CAAEF,QAAQ,CAACG,IAAT,CAAcC,GAAd,CAAkB,SAACC,IAAD,CAAQ,CAAE;AACpC,MAAM,CACFC,KAAK,WAAKD,IAAI,CAACE,QAAV,aAAsBF,IAAI,CAACG,SAA3B,CADH,CAEFC,KAAK,WAAKJ,IAAI,CAACK,IAAV,aAAkBL,IAAI,CAACM,WAAvB,CAFH,CAAN,CAIA,CALQ,CADN,CAAN,CAQH,CAXS,EAYZC,KAZY,CAYN,SAAAC,GAAG,QAAIC,QAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ,EAZG,CAAR,CAaD,CAdD,CAeA,GAAMG,eAAc,CAAG,QAAjBA,eAAiB,CAACC,UAAD,CAAgB,CACnCtB,SAAS,CAACsB,UAAD,CAAT,CAAsB;AACtBxB,cAAc,CAACwB,UAAD,CAAd,CAA0B;AAC7B,CAHD,CAKA,mBAEI,KAAC,aAAD,EACA,WAAW,CAAG,iBADd,CAEA,eAAe,CAAE,GAFjB,CAGA,KAAK,CAAIvB,MAHT,CAIA,QAAQ,CAAIsB,cAAe;AAJ3B,CAKA,WAAW,CAAEpB,WALb,EAFJ,CAUH,CAhCD,CAkCA,cAAeJ,OAAf"},"metadata":{},"sourceType":"module"}